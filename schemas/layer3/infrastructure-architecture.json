{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://ukiyoue.example.org/schemas/layer3/infrastructure-architecture.json",
  "title": "Infrastructure Architecture",
  "description": "インフラストラクチャアーキテクチャ（ARCH-INFRA）: インフラストラクチャの具体的構成を設計",
  "allOf": [{ "$ref": "../_common.json#/definitions/baseArtifact" }],
  "type": "object",
  "required": ["title", "networkConfiguration"],
  "properties": {
    "@type": {
      "const": "InfrastructureArchitecture"
    },
    "title": {
      "type": "string",
      "minLength": 1
    },
    "networkConfiguration": {
      "type": "string",
      "description": "VPC、サブネット、ルーティング、ファイアウォール"
    },
    "serverContainerConfiguration": {
      "type": "string",
      "description": "EC2/ECS/EKS、VM/コンテナ、サイジング"
    },
    "multiAzConfiguration": {
      "type": "string",
      "description": "リージョン、アベイラビリティゾーン配置"
    },
    "loadBalancing": {
      "type": "string",
      "description": "ロードバランサー（ALB/NLB）、トラフィック分散"
    },
    "autoScalingDesign": {
      "type": "string",
      "description": "スケールアウト/イン条件、閾値"
    },
    "backupConfiguration": {
      "type": "string",
      "description": "バックアップ戦略、世代管理、リストア手順"
    },
    "cloudResourceDesign": {
      "type": "string",
      "description": "AWS/Azure/GCPサービス選定、構成図"
    }
  },
  "additionalProperties": false
}
