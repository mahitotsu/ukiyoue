{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://ukiyoue.example.org/schemas/layer3/reliability-architecture.json",
  "title": "Reliability Architecture",
  "description": "信頼性アーキテクチャ（ARCH-RELIABILITY）: システムの信頼性要件を抽象的に定義",
  "allOf": [{ "$ref": "../_common.json#/definitions/baseArtifact" }],
  "type": "object",
  "required": ["title", "sloDefinition"],
  "properties": {
    "@type": {
      "const": "ReliabilityArchitecture"
    },
    "title": {
      "type": "string",
      "minLength": 1
    },
    "sloDefinition": {
      "type": "object",
      "description": "SLO/SLI/SLA定義",
      "properties": {
        "slo": { "type": "string", "description": "サービスレベル目標" },
        "sli": { "type": "string", "description": "サービスレベル指標" },
        "sla": { "type": "string", "description": "サービスレベル契約" }
      },
      "required": ["slo"]
    },
    "availabilityLevel": {
      "type": "string",
      "description": "目標稼働率（99.9%、99.99%等）、ダウンタイム許容値"
    },
    "redundancyLevel": {
      "type": "string",
      "description": "Multi-AZ必要性、Active-Active/Active-Standby"
    },
    "disasterRecoveryRequirements": {
      "type": "object",
      "properties": {
        "rpo": { "type": "string", "description": "Recovery Point Objective" },
        "rto": { "type": "string", "description": "Recovery Time Objective" }
      }
    },
    "capacityRequirements": {
      "type": "object",
      "properties": {
        "expectedTraffic": { "type": "string" },
        "growthProjection": { "type": "string" },
        "peakHandling": { "type": "string" }
      }
    },
    "failureTolerance": {
      "type": "string",
      "description": "単一障害点（SPOF）の許容範囲"
    }
  },
  "additionalProperties": false
}
