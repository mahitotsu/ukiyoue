{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://ukiyoue.example.org/schemas/layer1/business-goal.json",
  "title": "Business Goal",
  "description": "ビジネス目標（BIZ-GOAL）: プロジェクトが達成すべきビジネス上の目標",
  "allOf": [{ "$ref": "../_common.json#/definitions/baseArtifact" }],
  "type": "object",
  "required": ["title", "description", "priority"],
  "properties": {
    "@type": {
      "const": "BusinessGoal"
    },
    "title": {
      "type": "string",
      "description": "ビジネス目標のタイトル",
      "minLength": 1
    },
    "description": {
      "type": "string",
      "description": "目標の詳細説明",
      "minLength": 1
    },
    "priority": {
      "type": "string",
      "enum": ["critical", "high", "medium", "low"],
      "description": "優先度"
    },
    "category": {
      "type": "string",
      "enum": [
        "revenue",
        "cost-reduction",
        "efficiency",
        "customer-satisfaction",
        "quality",
        "compliance",
        "innovation",
        "other"
      ],
      "description": "目標のカテゴリ"
    },
    "owner": {
      "type": "string",
      "description": "目標のオーナー（責任者）"
    },
    "successCriteria": {
      "type": "array",
      "description": "成功基準（定性的）",
      "items": { "type": "string" },
      "minItems": 1
    },
    "kpis": {
      "type": "array",
      "description": "測定可能なKPI（定量的）",
      "items": {
        "type": "object",
        "required": ["metric", "target"],
        "properties": {
          "metric": {
            "type": "string",
            "description": "測定指標名（例: 注文精度、処理時間）"
          },
          "baseline": {
            "type": "string",
            "description": "現状値（ベースライン）"
          },
          "target": {
            "type": "string",
            "description": "目標値"
          },
          "unit": {
            "type": "string",
            "description": "単位（例: %、分、件）"
          },
          "measurementMethod": {
            "type": "string",
            "description": "測定方法"
          }
        }
      }
    },
    "targetDate": {
      "type": "string",
      "format": "date",
      "description": "目標達成期限"
    },
    "stakeholders": {
      "type": "array",
      "description": "関連するステークホルダー",
      "items": {
        "type": "object",
        "required": ["name", "role"],
        "properties": {
          "name": { "type": "string" },
          "role": { "type": "string" },
          "interest": { "type": "string", "description": "利害関係" }
        }
      }
    },
    "rationale": {
      "type": "string",
      "description": "この目標を設定する理由・背景"
    },
    "dependencies": {
      "type": "array",
      "items": { "type": "string" },
      "description": "依存する他のビジネス目標ID"
    },
    "risks": {
      "type": "array",
      "items": { "type": "string" },
      "description": "関連するリスクID（リスク登録簿への参照）"
    }
  }
}
