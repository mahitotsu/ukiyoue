# Document Taxonomy

## ドキュメント分類と入出力関係の定義

このドキュメントは、Ukiyoue フレームワークで扱うドキュメントの分類（タクソノミー）と、ドキュメント間の入出力依存関係を定義します。

## 🎯 目的

- **What**: どのようなドキュメントタイプが存在するか
- **Why**: 各ドキュメントタイプの役割と必要性
- **How**: ドキュメント間の依存関係と情報の流れ

**対象読者**: フレームワーク開発者、スキーマ設計者

---

## 📊 ドキュメント分類の全体像

### レイヤー構造

Ukiyoue フレームワークでは、ドキュメントを以下の3つのレイヤーに分類します：

```text
┌─────────────────────────────────────────────────────┐
│ Layer 1: プロジェクト管理ドキュメント                │
│ (Project Management Documents)                      │
│ - プロジェクト全体の方向性と計画                     │
└─────────────────────────────────────────────────────┘
                      ↓ 参照
┌─────────────────────────────────────────────────────┐
│ Layer 2: 要件・設計ドキュメント                      │
│ (Requirements & Design Documents)                   │
│ - システムの要件と設計の詳細                         │
└─────────────────────────────────────────────────────┘
                      ↓ 実装
┌─────────────────────────────────────────────────────┐
│ Layer 3: 実装・運用ドキュメント                      │
│ (Implementation & Operations Documents)             │
│ - 実装の詳細と運用手順                               │
└─────────────────────────────────────────────────────┘
```

---

## 📋 ドキュメントタイプ一覧

### Layer 1: プロジェクト管理ドキュメント

#### 1. Project Charter（プロジェクト憲章）

- **目的**: プロジェクトの目的、スコープ、ステークホルダーを定義
- **主な内容**: ビジョン、目標、制約条件、成功基準
- **読者**: 全ステークホルダー
- **頻度**: プロジェクト開始時に作成、重要な変更時に更新

#### 2. Roadmap（ロードマップ）

- **目的**: プロジェクトのマイルストーンとタイムラインを提示
- **主な内容**: フェーズ、主要成果物、期限
- **読者**: プロジェクトマネージャー、ステークホルダー
- **頻度**: 定期的に更新

### Layer 2: 要件・設計ドキュメント

#### 3. Business Requirements（ビジネス要件）

- **目的**: ビジネス視点での要求事項を記述
- **主な内容**: ビジネス目標、ユーザーニーズ、期待効果
- **読者**: ビジネスアナリスト、プロダクトオーナー
- **頻度**: 企画段階で作成、要件変更時に更新

#### 4. Functional Specification（機能仕様）

- **目的**: システムが提供すべき機能を詳細に定義
- **主な内容**: 機能一覧、ユースケース、画面仕様
- **読者**: 開発者、テスター、デザイナー
- **頻度**: 設計段階で作成、機能追加時に更新

#### 5. Technical Specification（技術仕様）

- **目的**: システムの技術的な設計を詳細に記述
- **主な内容**: アーキテクチャ、データモデル、API 設計
- **読者**: アーキテクト、開発者
- **頻度**: 設計段階で作成、技術変更時に更新

#### 6. API Documentation（API ドキュメント）

- **目的**: API のエンドポイント、パラメータ、レスポンスを定義
- **主な内容**: エンドポイント一覧、リクエスト/レスポンス形式、認証方法
- **読者**: API 利用者、開発者
- **頻度**: API 実装時に作成、変更時に更新

### Layer 3: 実装・運用ドキュメント

#### 7. Implementation Guide（実装ガイド）

- **目的**: 実装の手順と注意事項を提供
- **主な内容**: コーディング規約、実装パターン、ベストプラクティス
- **読者**: 開発者
- **頻度**: 実装開始時に作成、知見蓄積に応じて更新

#### 8. Deployment Guide（デプロイガイド）

- **目的**: システムのデプロイ手順を記述
- **主な内容**: 環境構築、デプロイ手順、設定項目
- **読者**: DevOps エンジニア、運用担当者
- **頻度**: デプロイ準備時に作成、インフラ変更時に更新

#### 9. Operations Manual（運用マニュアル）

- **目的**: システムの日常運用手順を提供
- **主な内容**: 監視項目、バックアップ手順、トラブルシューティング
- **読者**: 運用担当者、サポート担当者
- **頻度**: 運用開始時に作成、運用知見に応じて更新

#### 10. Troubleshooting Guide（トラブルシューティングガイド）

- **目的**: 問題発生時の対処方法を記述
- **主な内容**: よくある問題、診断方法、解決手順
- **読者**: 運用担当者、サポート担当者、開発者
- **頻度**: 運用中に継続的に更新

---

## 🔄 ドキュメント間の依存関係

### 基本的な情報の流れ

```text
Project Charter
  ├─→ Roadmap
  └─→ Business Requirements
        └─→ Functional Specification
              ├─→ Technical Specification
              │     ├─→ API Documentation
              │     └─→ Implementation Guide
              └─→ Deployment Guide
                    └─→ Operations Manual
                          └─→ Troubleshooting Guide
```

### 詳細な依存関係マトリクス

| From ↓ / To →       | Charter | Roadmap | BizReq | FuncSpec | TechSpec | API | ImplGuide | Deploy | Ops | Trouble |
| ------------------- | ------- | ------- | ------ | -------- | -------- | --- | --------- | ------ | --- | ------- |
| **Project Charter** | -       | ✅      | ✅     | -        | -        | -   | -         | -      | -   | -       |
| **Roadmap**         | 📖      | -       | -      | -        | -        | -   | -         | -      | -   | -       |
| **Business Req**    | 📖      | -       | -      | ✅       | -        | -   | -         | -      | -   | -       |
| **Functional Spec** | -       | -       | 📖     | -        | ✅       | -   | ✅        | -      | -   | -       |
| **Technical Spec**  | -       | -       | -      | 📖       | -        | ✅  | ✅        | ✅     | -   | -       |
| **API Doc**         | -       | -       | -      | -        | 📖       | -   | ✅        | -      | -   | -       |
| **Implementation**  | -       | -       | -      | 📖       | 📖       | 📖  | -         | -      | -   | ✅      |
| **Deployment**      | -       | -       | -      | -        | 📖       | -   | -         | -      | ✅  | -       |
| **Operations**      | -       | -       | -      | -        | -        | -   | -         | 📖     | -   | ✅      |
| **Troubleshooting** | -       | -       | -      | -        | -        | -   | 📖        | -      | 📖  | -       |

**凡例**:

- ✅ = 直接的な入力（このドキュメントから情報を引用・派生）
- 📖 = 参照（このドキュメントを理解するために参照）

---

## 🎭 情報の流れのパターン

### 1. トップダウンフロー（計画 → 実装）

```text
Project Charter → Business Requirements → Functional Specification
                                        → Technical Specification
                                        → Implementation
```

**特徴**: 上位の意思決定が下位の詳細設計に影響

### 2. ボトムアップフロー（実装 → 知見）

```text
Implementation → Troubleshooting Guide
Operations     → Troubleshooting Guide
```

**特徴**: 実運用の経験が知見として文書化

### 3. 横断的参照フロー

```text
Technical Specification ←→ API Documentation
Implementation Guide   ←→ Deployment Guide
```

**特徴**: 同じレイヤー内での相互参照

---

## 📐 次のステップ

このドキュメントタクソノミーを基に、以下を段階的に詳細化します：

### Phase 1.1: メタデータ設計

- 各ドキュメントタイプに共通するメタデータの定義
- ドキュメント識別子の設計

### Phase 1.2: スキーマ設計

- 各ドキュメントタイプの JSON Schema 設計
- 共通スキーマ（document-base.schema.json）の設計

### Phase 1.3: セマンティック定義

- ドキュメント間の関係性の形式的定義
- JSON-LD Context の設計

### Phase 1.4: バリデーションルール

- 依存関係の検証ルール
- 整合性チェックルール

---

## 📚 関連ドキュメント

- [concept.md](concept.md) - フレームワークの理念
- [requirements.md](requirements.md) - フレームワークの要件
- [architecture.md](architecture.md) - 技術アーキテクチャ
